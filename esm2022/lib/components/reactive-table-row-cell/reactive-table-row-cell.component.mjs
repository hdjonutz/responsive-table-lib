import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output } from '@angular/core';
import { moveItemInArray } from '@angular/cdk/drag-drop';
import * as i0 from "@angular/core";
import * as i1 from "../../services/rows.service";
import * as i2 from "@angular/common";
import * as i3 from "@angular/cdk/drag-drop";
import * as i4 from "@angular/cdk/scrolling";
export class ReactiveTableRowCellComponent {
    constructor(tableBody, rowService) {
        this.rowService = rowService;
        this.rowClickIndex = null;
        this.rowsExpanded = [];
        this.onClickRow = new EventEmitter();
        this.onChangePositionRows = new EventEmitter();
        this._tableBody = tableBody;
    }
    ngOnInit() {
        this.rowsObs = this.rowService.getChanges().subscribe((res) => this.rowsExpanded = res);
    }
    ngOnDestroy() {
        this.rowsObs?.unsubscribe();
    }
    updateOnClickRow(row, cell, index, key) {
        this.rowClickIndex = index;
        this.onClickRow?.emit({ row: row, item: cell, index: index, key: key });
    }
    ngOnChanges(changes) {
        if (changes?.['data'].currentValue) {
            this.dataToDisplay = [...changes?.['data'].currentValue];
        }
    }
    drop(event) {
        moveItemInArray(this.data, event.previousIndex, event.currentIndex);
        this.onChangePositionRows?.emit(this.data);
    }
    getRowHeight(row) {
        const styleRow = { 'flex-direction': 'column' };
        if (this.config.rowHeight) {
            Object.assign(styleRow, { height: this.config.rowHeight + 'px' });
        }
        if (this.config.rowMinHeight) {
            Object.assign(styleRow, { 'min-height': this.config.rowMinHeight + 'px' });
        }
        if (this.config.rowMaxHeight) {
            Object.assign(styleRow, { 'max-height': this.config.rowMaxHeight + 'px', overflow: 'hidden' });
        }
        if (this.getIsExpanded(row) && this.rowDetail) {
            Object.assign(styleRow, { height: this.rowDetail.rowDetailHeight + 'px' });
        }
        return styleRow;
    }
    getCellWidth(att) {
        const styleCell = {};
        if (att['width'] || att['style']?.['width']) {
            Object.assign(styleCell, { width: (att['width'] || att['style']?.['width']) + 'px' });
        }
        if (att['maxWidth'] || att['style']?.['maxWidth']) {
            Object.assign(styleCell, { 'max-width': (att['maxWidth'] || att['style']?.['maxWidth']) + 'px' });
        }
        if (att['minWidth'] || att['style']?.['minWidth']) {
            Object.assign(styleCell, { 'min-width': (att['minWidth'] || att['style']?.['minWidth']) + 'px' });
        }
        if (this.config.rowMaxHeight) {
            Object.assign(styleCell, { 'max-height': this.config.rowMaxHeight + 'px' }); // 'align-items': 'baseline'
        }
        return styleCell;
    }
    getIsExpanded(row) {
        return !!this.rowsExpanded.find((r) => JSON.stringify(row) === JSON.stringify(r));
    }
    stopOnMoved(event) {
        // debugger;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: ReactiveTableRowCellComponent, deps: [{ token: i0.ElementRef }, { token: i1.RowsService }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: ReactiveTableRowCellComponent, selector: "app-reactive-table-row-cell", inputs: { data: "data", columns: "columns", config: "config", droggableRows: "droggableRows", rowDetail: "rowDetail" }, outputs: { onClickRow: "onClickRow", onChangePositionRows: "onChangePositionRows" }, usesOnChanges: true, ngImport: i0, template: "<div class=\"responsive_table_rows\">\n\n  <div class=\"responsive_table_header_loading\" *ngIf=\"config && dataToDisplay?.length === 0\">\n    {{config.messageTableNoData}}\n  </div>\n\n<!--  <div class=\"responsive_table_row\">-->\n<!--    <div *ngFor=\"let att of columns;\" class=\"responsive_table_row_cell\"-->\n<!--         style=\"width: {{(att['width'] || att['style']?.['width'])+'px'}};-->\n<!--            max-width: {{(att['maxWidth'] || att['style']?.['maxWidth'])+'px'}};-->\n<!--            min-width: {{(att['minWidth'] || att['style']?.['minWidth'])+'px'}}\">[xxx]</div>-->\n<!--  </div>-->\n\n  <ng-container *ngIf=\"droggableRows; then templateDroggrable; else templateSimple\"></ng-container>\n\n  <ng-template #templateDroggrable>\n    <div cdkDropList class=\"example-list\" (cdkDropListDropped)=\"drop($event)\">\n      <cdk-virtual-scroll-viewport itemSize=\"{{config?.rowHeight || config?.rowMinHeight || 40}}\" minBufferPx=\"200\" maxBufferPx=\"400\" style=\"display: flex; flex: 1; overflow-y: scroll; overflow-x: hidden;\">\n        <div *cdkVirtualFor=\"let row of dataToDisplay; let i = index\"\n             class=\"responsive_table_row example-box\"\n             cdkDragBoundary=\"responsive_table_rows\"\n             cdkDrag\n             style=\"{{getRowHeight(row)}}\"\n             (cdkDragMoved)=\"stopOnMoved($event)\"\n             [class.selected] = \"rowClickIndex == i\">\n\n          <div class=\"simple_row\">\n            <ng-container *ngFor=\"let att of columns;\">\n              <div class=\"responsive_table_row_cell\"\n                   (click)=\"updateOnClickRow(row, row[att.key], i, att.key)\"\n                   style=\"{{getCellWidth(att)}}\"\n              >\n                <ng-container *ngIf=\"row[att.key] !== undefined; then _fullCell\"></ng-container>\n                <ng-template #_fullCell\n                             [ngTemplateOutlet]=\"att.cellTemplate\"\n                             [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: row[att.key], column: att.key, rowIndex: i}\">\n                  <div *ngIf=\"!att.cellTemplate\">{{row[att.key]}}</div>\n                </ng-template>\n              </div>\n            </ng-container>\n          </div>\n\n          <div *ngIf=\"rowDetail && rowDetail.template && getIsExpanded(row)\" class=\"detail_row\" style=\"height:{{rowDetail?.rowDetailHeight+'px'}}\">\n            <ng-container [ngTemplateOutlet]=\"rowDetail.template\"\n                          [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: null, column: null, rowIndex: i}\"></ng-container>\n          </div>\n\n        </div>\n      </cdk-virtual-scroll-viewport>\n\n<!--      <div *ngFor=\"let row of dataToDisplay; let i = index\"-->\n<!--           class=\"responsive_table_row example-box\"-->\n<!--           cdkDragBoundary=\"responsive_table_rows\"-->\n<!--           cdkDrag-->\n<!--           style=\"{{getRowHeight(row)}}\"-->\n<!--           (cdkDragMoved)=\"stopOnMoved($event)\"-->\n<!--           [class.selected] = \"rowClickIndex == i\"-->\n<!--      >-->\n<!--        <div class=\"simple_row\">-->\n<!--          <ng-container *ngFor=\"let att of columns;\">-->\n<!--            <div class=\"responsive_table_row_cell\"-->\n<!--                 (click)=\"updateOnClickRow(row, row[att.key], i, att.key)\"-->\n<!--                 style=\"{{getCellWidth(att)}}\"-->\n<!--            >-->\n<!--              <ng-container *ngIf=\"row[att.key] !== undefined; then _fullCell\"></ng-container>-->\n<!--              <ng-template #_fullCell-->\n<!--                           [ngTemplateOutlet]=\"att.cellTemplate\"-->\n<!--                           [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: row[att.key], column: att.key, rowIndex: i}\">-->\n<!--                <div *ngIf=\"!att.cellTemplate\">{{row[att.key]}}</div>-->\n<!--              </ng-template>-->\n<!--            </div>-->\n<!--          </ng-container>-->\n<!--        </div>-->\n\n<!--        <div *ngIf=\"rowDetail && rowDetail.template && getIsExpanded(row)\" class=\"detail_row\" style=\"height:{{rowDetail?.rowDetailHeight+'px'}}\">-->\n<!--          <ng-container [ngTemplateOutlet]=\"rowDetail.template\"-->\n<!--                        [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: null, column: null, rowIndex: i}\"></ng-container>-->\n<!--        </div>-->\n\n<!--      </div>-->\n    </div>\n  </ng-template>\n\n  <ng-template #templateSimple>\n\n    <cdk-virtual-scroll-viewport itemSize=\"{{config?.rowHeight || config?.rowMinHeight || 40}}\" minBufferPx=\"200\" maxBufferPx=\"400\" style=\"display: flex; flex: 1; overflow-y: scroll; overflow-x: hidden;\">\n      <div *cdkVirtualFor=\"let row of dataToDisplay; let i = index\"\n                 class=\"responsive_table_row\"\n                 style=\"{{getRowHeight(row)}}\"\n                 [class.selected] = \"rowClickIndex == i\">\n\n        <div class=\"simple_row\">\n\n                <ng-container *ngFor=\"let att of columns;\">\n                  <div class=\"responsive_table_row_cell\"\n                       (click)=\"updateOnClickRow(row, row[att.key], i, att.key)\"\n                       style=\"{{getCellWidth(att)}}\"\n                  >\n<!--                    {{row['name']}}-->\n\n                                  <ng-container *ngIf=\"row[att.key] !== undefined; then fullCell\"></ng-container>\n                                  <ng-template #fullCell\n                                               [ngTemplateOutlet]=\"att.cellTemplate\"\n                                               [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: row[att.key], column: att.key, rowIndex: i}\">\n                                    <div *ngIf=\"!att.cellTemplate\">{{row[att.key]}}</div>\n                                  </ng-template>\n\n\n                  </div>\n                </ng-container>\n        </div>\n        <div *ngIf=\"rowDetail && rowDetail.template && getIsExpanded(row)\" class=\"detail_row\" style=\"height:{{rowDetail?.rowDetailHeight+'px'}}\">\n          <ng-container [ngTemplateOutlet]=\"rowDetail.template\"\n                        [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: null, column: null, rowIndex: i}\"></ng-container>\n        </div>\n      </div>\n    </cdk-virtual-scroll-viewport>\n\n<!--    <cdk-virtual-scroll-viewport itemSize=\"config?.rowHeight || config?.rowMinHeight || 40\" minBufferPx=\"200\" maxBufferPx=\"400\" style=\"display: flex; flex: 1; overflow-y: scroll; overflow-x: hidden;\">-->\n<!--      <div *cdkVirtualFor=\"let row of dataToDisplay; let i = index\"-->\n<!--           class=\"responsive_table_row\"-->\n<!--           style=\"{{getRowHeight(row)}}\"-->\n<!--           [class.selected] = \"rowClickIndex == i\">-->\n\n<!--        <div class=\"simple_row\">-->\n<!--          <ng-container *ngFor=\"let att of columns;\">-->\n<!--            <div class=\"responsive_table_row_cell\"-->\n<!--                 (click)=\"updateOnClickRow(row, row[att.key], i, att.key)\"-->\n<!--                 style=\"{{getCellWidth(att)}}\"-->\n<!--            >-->\n<!--              <ng-container *ngIf=\"row[att.key] !== undefined; then fullCell\"></ng-container>-->\n<!--              <ng-template #fullCell-->\n<!--                           [ngTemplateOutlet]=\"att.cellTemplate\"-->\n<!--                           [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: row[att.key], column: att.key, rowIndex: i}\">-->\n<!--                <div *ngIf=\"!att.cellTemplate\">{{row[att.key]}}</div>-->\n<!--              </ng-template>-->\n<!--            </div>-->\n<!--          </ng-container>-->\n<!--        </div>-->\n\n<!--        <div *ngIf=\"rowDetail && rowDetail.template && getIsExpanded(row)\" class=\"detail_row\" style=\"height:{{rowDetail?.rowDetailHeight+'px'}}\">-->\n<!--          <ng-container [ngTemplateOutlet]=\"rowDetail.template\"-->\n<!--                        [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: null, column: null, rowIndex: i}\"></ng-container>-->\n<!--        </div>-->\n\n<!--      </div>-->\n<!--    </cdk-virtual-scroll-viewport>-->\n\n    <!-- ORIGINAL NO SCROLL -->\n<!--    <div *ngFor=\"let row of dataToDisplay; let i = index\"-->\n<!--         class=\"responsive_table_row\"-->\n<!--         style=\"{{getRowHeight(row)}}\"-->\n<!--         [class.selected] = \"rowClickIndex == i\">-->\n\n<!--      <div class=\"simple_row\">-->\n<!--        <ng-container *ngFor=\"let att of columns;\">-->\n<!--          <div class=\"responsive_table_row_cell\"-->\n<!--               (click)=\"updateOnClickRow(row, row[att.key], i, att.key)\"-->\n<!--               style=\"{{getCellWidth(att)}}\"-->\n<!--          >-->\n<!--            <ng-container *ngIf=\"row[att.key] !== undefined; then fullCell\"></ng-container>-->\n<!--            <ng-template #fullCell-->\n<!--                         [ngTemplateOutlet]=\"att.cellTemplate\"-->\n<!--                         [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: row[att.key], column: att.key, rowIndex: i}\">-->\n<!--              <div *ngIf=\"!att.cellTemplate\">{{row[att.key]}}</div>-->\n<!--            </ng-template>-->\n<!--          </div>-->\n<!--        </ng-container>-->\n<!--      </div>-->\n\n<!--      <div *ngIf=\"rowDetail && rowDetail.template && getIsExpanded(row)\" class=\"detail_row\" style=\"height:{{rowDetail?.rowDetailHeight+'px'}}\">-->\n<!--        <ng-container [ngTemplateOutlet]=\"rowDetail.template\"-->\n<!--                      [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: null, column: null, rowIndex: i}\"></ng-container>-->\n<!--      </div>-->\n\n<!--    </div>-->\n\n  </ng-template>\n\n</div>\n", styles: [".flex_column,.responsive_table_rows,:host,.flex_column_min_width_height{display:flex;flex:1;flex-direction:column}.flex_row{display:flex;flex:1;flex-direction:row}.max_height_width{height:100%;width:100%;min-width:0;min-height:0}.flex_column_min_width_height{min-width:0;min-height:0}*{scrollbar-width:thin;scrollbar-color:#5287bd #DFE9EB}*::-webkit-scrollbar{height:10px;width:10px}*::-webkit-scrollbar-track{border-radius:3px;background-color:#d3d8da}*::-webkit-scrollbar-track:hover{background-color:#b8c0c2}*::-webkit-scrollbar-track:active{background-color:#b8c0c2}*::-webkit-scrollbar-thumb{border-radius:3px;background-color:#5287bd}*::-webkit-scrollbar-thumb:hover{background-color:#77a1cb}*::-webkit-scrollbar-thumb:active{background-color:#3d6e9f}.responsive_table_rows .responsive_table_header_loading{display:flex;justify-content:center}.responsive_table_rows .responsive_table_row{display:flex;flex-direction:row;width:100%;border-bottom:1px solid #e9e9e9}.responsive_table_rows .responsive_table_row:nth-child(2n){background-color:#dee8f380}.responsive_table_rows .responsive_table_row:nth-child(odd){background-color:#f1f5fa80}.responsive_table_rows .responsive_table_row:hover{background-color:#c1d4e780;cursor:pointer}.responsive_table_rows .responsive_table_row.selected{background-color:#9cbad980}.responsive_table_rows .responsive_table_row .simple_row{flex-direction:row;display:flex;width:100%;height:100%}.responsive_table_rows .responsive_table_row .detail_row{box-shadow:inset 0 0 1px 1px #9cbad980;flex-direction:row;display:flex;width:100%}.responsive_table_rows .responsive_table_row .responsive_table_row_cell{display:flex;width:100%;min-width:100px;padding:2px;border-right:1px solid #e9e9e9;overflow:hidden;align-items:center;font-size:14px}.responsive_table_rows .responsive_table_row .responsive_table_row_cell.hide{visibility:hidden}.responsive_table_rows .responsive_table_row .responsive_table_row_cell:last-child{border-right:none}.responsive_table_rows .example-list{display:flex;flex:1}.responsive_table_rows .example-list .example-box{cursor:move}.responsive_table_rows .cdk-drag-preview{background-color:red;box-sizing:border-box;height:50px;display:flex;width:100%;flex-direction:row;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.responsive_table_rows .cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.responsive_table_rows .example-list.cdk-drop-list-dragging .example-box:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.responsive_table_rows .example-list.cdk-drop-list-dragging .example-box:not(.cdk-drag-placeholder):nth-child(2n){background-color:#e2b38e}.responsive_table_rows .example-list.cdk-drop-list-dragging .example-box:not(.cdk-drag-placeholder):nth-child(odd){background-color:#e8c0a2}::ng-deep .cdk-drag{background-color:#5287bd}::ng-deep .cdk-drag.responsive_table_row.cdk-drag-preview{background-color:#bc8ce8;display:flex;border-right:1px solid #e9e9e9;overflow:hidden;align-items:center}::ng-deep .cdk-drag.responsive_table_row.cdk-drag-preview .simple_row{flex-direction:row;display:flex;width:100%;height:100%}::ng-deep .cdk-drag.responsive_table_row .responsive_table_row_cell{display:flex;width:100%;min-width:100px;padding:2px;border-right:1px solid #e9e9e9;overflow:hidden;align-items:center}::ng-deep .cdk-drag.responsive_table_row .responsive_table_row_cell.hide{visibility:hidden}::ng-deep .cdk-drag.responsive_table_row .responsive_table_row_cell:last-child{border-right:none}\n"], dependencies: [{ kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "directive", type: i3.CdkDropList, selector: "[cdkDropList], cdk-drop-list", inputs: ["cdkDropListConnectedTo", "cdkDropListData", "cdkDropListOrientation", "id", "cdkDropListLockAxis", "cdkDropListDisabled", "cdkDropListSortingDisabled", "cdkDropListEnterPredicate", "cdkDropListSortPredicate", "cdkDropListAutoScrollDisabled", "cdkDropListAutoScrollStep"], outputs: ["cdkDropListDropped", "cdkDropListEntered", "cdkDropListExited", "cdkDropListSorted"], exportAs: ["cdkDropList"] }, { kind: "directive", type: i3.CdkDrag, selector: "[cdkDrag]", inputs: ["cdkDragData", "cdkDragLockAxis", "cdkDragRootElement", "cdkDragBoundary", "cdkDragStartDelay", "cdkDragFreeDragPosition", "cdkDragDisabled", "cdkDragConstrainPosition", "cdkDragPreviewClass", "cdkDragPreviewContainer"], outputs: ["cdkDragStarted", "cdkDragReleased", "cdkDragEnded", "cdkDragEntered", "cdkDragExited", "cdkDragDropped", "cdkDragMoved"], exportAs: ["cdkDrag"] }, { kind: "directive", type: i4.CdkFixedSizeVirtualScroll, selector: "cdk-virtual-scroll-viewport[itemSize]", inputs: ["itemSize", "minBufferPx", "maxBufferPx"] }, { kind: "directive", type: i4.CdkVirtualForOf, selector: "[cdkVirtualFor][cdkVirtualForOf]", inputs: ["cdkVirtualForOf", "cdkVirtualForTrackBy", "cdkVirtualForTemplate", "cdkVirtualForTemplateCacheSize"] }, { kind: "component", type: i4.CdkVirtualScrollViewport, selector: "cdk-virtual-scroll-viewport", inputs: ["orientation", "appendOnly"], outputs: ["scrolledIndexChange"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: ReactiveTableRowCellComponent, decorators: [{
            type: Component,
            args: [{ selector: 'app-reactive-table-row-cell', changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"responsive_table_rows\">\n\n  <div class=\"responsive_table_header_loading\" *ngIf=\"config && dataToDisplay?.length === 0\">\n    {{config.messageTableNoData}}\n  </div>\n\n<!--  <div class=\"responsive_table_row\">-->\n<!--    <div *ngFor=\"let att of columns;\" class=\"responsive_table_row_cell\"-->\n<!--         style=\"width: {{(att['width'] || att['style']?.['width'])+'px'}};-->\n<!--            max-width: {{(att['maxWidth'] || att['style']?.['maxWidth'])+'px'}};-->\n<!--            min-width: {{(att['minWidth'] || att['style']?.['minWidth'])+'px'}}\">[xxx]</div>-->\n<!--  </div>-->\n\n  <ng-container *ngIf=\"droggableRows; then templateDroggrable; else templateSimple\"></ng-container>\n\n  <ng-template #templateDroggrable>\n    <div cdkDropList class=\"example-list\" (cdkDropListDropped)=\"drop($event)\">\n      <cdk-virtual-scroll-viewport itemSize=\"{{config?.rowHeight || config?.rowMinHeight || 40}}\" minBufferPx=\"200\" maxBufferPx=\"400\" style=\"display: flex; flex: 1; overflow-y: scroll; overflow-x: hidden;\">\n        <div *cdkVirtualFor=\"let row of dataToDisplay; let i = index\"\n             class=\"responsive_table_row example-box\"\n             cdkDragBoundary=\"responsive_table_rows\"\n             cdkDrag\n             style=\"{{getRowHeight(row)}}\"\n             (cdkDragMoved)=\"stopOnMoved($event)\"\n             [class.selected] = \"rowClickIndex == i\">\n\n          <div class=\"simple_row\">\n            <ng-container *ngFor=\"let att of columns;\">\n              <div class=\"responsive_table_row_cell\"\n                   (click)=\"updateOnClickRow(row, row[att.key], i, att.key)\"\n                   style=\"{{getCellWidth(att)}}\"\n              >\n                <ng-container *ngIf=\"row[att.key] !== undefined; then _fullCell\"></ng-container>\n                <ng-template #_fullCell\n                             [ngTemplateOutlet]=\"att.cellTemplate\"\n                             [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: row[att.key], column: att.key, rowIndex: i}\">\n                  <div *ngIf=\"!att.cellTemplate\">{{row[att.key]}}</div>\n                </ng-template>\n              </div>\n            </ng-container>\n          </div>\n\n          <div *ngIf=\"rowDetail && rowDetail.template && getIsExpanded(row)\" class=\"detail_row\" style=\"height:{{rowDetail?.rowDetailHeight+'px'}}\">\n            <ng-container [ngTemplateOutlet]=\"rowDetail.template\"\n                          [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: null, column: null, rowIndex: i}\"></ng-container>\n          </div>\n\n        </div>\n      </cdk-virtual-scroll-viewport>\n\n<!--      <div *ngFor=\"let row of dataToDisplay; let i = index\"-->\n<!--           class=\"responsive_table_row example-box\"-->\n<!--           cdkDragBoundary=\"responsive_table_rows\"-->\n<!--           cdkDrag-->\n<!--           style=\"{{getRowHeight(row)}}\"-->\n<!--           (cdkDragMoved)=\"stopOnMoved($event)\"-->\n<!--           [class.selected] = \"rowClickIndex == i\"-->\n<!--      >-->\n<!--        <div class=\"simple_row\">-->\n<!--          <ng-container *ngFor=\"let att of columns;\">-->\n<!--            <div class=\"responsive_table_row_cell\"-->\n<!--                 (click)=\"updateOnClickRow(row, row[att.key], i, att.key)\"-->\n<!--                 style=\"{{getCellWidth(att)}}\"-->\n<!--            >-->\n<!--              <ng-container *ngIf=\"row[att.key] !== undefined; then _fullCell\"></ng-container>-->\n<!--              <ng-template #_fullCell-->\n<!--                           [ngTemplateOutlet]=\"att.cellTemplate\"-->\n<!--                           [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: row[att.key], column: att.key, rowIndex: i}\">-->\n<!--                <div *ngIf=\"!att.cellTemplate\">{{row[att.key]}}</div>-->\n<!--              </ng-template>-->\n<!--            </div>-->\n<!--          </ng-container>-->\n<!--        </div>-->\n\n<!--        <div *ngIf=\"rowDetail && rowDetail.template && getIsExpanded(row)\" class=\"detail_row\" style=\"height:{{rowDetail?.rowDetailHeight+'px'}}\">-->\n<!--          <ng-container [ngTemplateOutlet]=\"rowDetail.template\"-->\n<!--                        [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: null, column: null, rowIndex: i}\"></ng-container>-->\n<!--        </div>-->\n\n<!--      </div>-->\n    </div>\n  </ng-template>\n\n  <ng-template #templateSimple>\n\n    <cdk-virtual-scroll-viewport itemSize=\"{{config?.rowHeight || config?.rowMinHeight || 40}}\" minBufferPx=\"200\" maxBufferPx=\"400\" style=\"display: flex; flex: 1; overflow-y: scroll; overflow-x: hidden;\">\n      <div *cdkVirtualFor=\"let row of dataToDisplay; let i = index\"\n                 class=\"responsive_table_row\"\n                 style=\"{{getRowHeight(row)}}\"\n                 [class.selected] = \"rowClickIndex == i\">\n\n        <div class=\"simple_row\">\n\n                <ng-container *ngFor=\"let att of columns;\">\n                  <div class=\"responsive_table_row_cell\"\n                       (click)=\"updateOnClickRow(row, row[att.key], i, att.key)\"\n                       style=\"{{getCellWidth(att)}}\"\n                  >\n<!--                    {{row['name']}}-->\n\n                                  <ng-container *ngIf=\"row[att.key] !== undefined; then fullCell\"></ng-container>\n                                  <ng-template #fullCell\n                                               [ngTemplateOutlet]=\"att.cellTemplate\"\n                                               [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: row[att.key], column: att.key, rowIndex: i}\">\n                                    <div *ngIf=\"!att.cellTemplate\">{{row[att.key]}}</div>\n                                  </ng-template>\n\n\n                  </div>\n                </ng-container>\n        </div>\n        <div *ngIf=\"rowDetail && rowDetail.template && getIsExpanded(row)\" class=\"detail_row\" style=\"height:{{rowDetail?.rowDetailHeight+'px'}}\">\n          <ng-container [ngTemplateOutlet]=\"rowDetail.template\"\n                        [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: null, column: null, rowIndex: i}\"></ng-container>\n        </div>\n      </div>\n    </cdk-virtual-scroll-viewport>\n\n<!--    <cdk-virtual-scroll-viewport itemSize=\"config?.rowHeight || config?.rowMinHeight || 40\" minBufferPx=\"200\" maxBufferPx=\"400\" style=\"display: flex; flex: 1; overflow-y: scroll; overflow-x: hidden;\">-->\n<!--      <div *cdkVirtualFor=\"let row of dataToDisplay; let i = index\"-->\n<!--           class=\"responsive_table_row\"-->\n<!--           style=\"{{getRowHeight(row)}}\"-->\n<!--           [class.selected] = \"rowClickIndex == i\">-->\n\n<!--        <div class=\"simple_row\">-->\n<!--          <ng-container *ngFor=\"let att of columns;\">-->\n<!--            <div class=\"responsive_table_row_cell\"-->\n<!--                 (click)=\"updateOnClickRow(row, row[att.key], i, att.key)\"-->\n<!--                 style=\"{{getCellWidth(att)}}\"-->\n<!--            >-->\n<!--              <ng-container *ngIf=\"row[att.key] !== undefined; then fullCell\"></ng-container>-->\n<!--              <ng-template #fullCell-->\n<!--                           [ngTemplateOutlet]=\"att.cellTemplate\"-->\n<!--                           [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: row[att.key], column: att.key, rowIndex: i}\">-->\n<!--                <div *ngIf=\"!att.cellTemplate\">{{row[att.key]}}</div>-->\n<!--              </ng-template>-->\n<!--            </div>-->\n<!--          </ng-container>-->\n<!--        </div>-->\n\n<!--        <div *ngIf=\"rowDetail && rowDetail.template && getIsExpanded(row)\" class=\"detail_row\" style=\"height:{{rowDetail?.rowDetailHeight+'px'}}\">-->\n<!--          <ng-container [ngTemplateOutlet]=\"rowDetail.template\"-->\n<!--                        [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: null, column: null, rowIndex: i}\"></ng-container>-->\n<!--        </div>-->\n\n<!--      </div>-->\n<!--    </cdk-virtual-scroll-viewport>-->\n\n    <!-- ORIGINAL NO SCROLL -->\n<!--    <div *ngFor=\"let row of dataToDisplay; let i = index\"-->\n<!--         class=\"responsive_table_row\"-->\n<!--         style=\"{{getRowHeight(row)}}\"-->\n<!--         [class.selected] = \"rowClickIndex == i\">-->\n\n<!--      <div class=\"simple_row\">-->\n<!--        <ng-container *ngFor=\"let att of columns;\">-->\n<!--          <div class=\"responsive_table_row_cell\"-->\n<!--               (click)=\"updateOnClickRow(row, row[att.key], i, att.key)\"-->\n<!--               style=\"{{getCellWidth(att)}}\"-->\n<!--          >-->\n<!--            <ng-container *ngIf=\"row[att.key] !== undefined; then fullCell\"></ng-container>-->\n<!--            <ng-template #fullCell-->\n<!--                         [ngTemplateOutlet]=\"att.cellTemplate\"-->\n<!--                         [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: row[att.key], column: att.key, rowIndex: i}\">-->\n<!--              <div *ngIf=\"!att.cellTemplate\">{{row[att.key]}}</div>-->\n<!--            </ng-template>-->\n<!--          </div>-->\n<!--        </ng-container>-->\n<!--      </div>-->\n\n<!--      <div *ngIf=\"rowDetail && rowDetail.template && getIsExpanded(row)\" class=\"detail_row\" style=\"height:{{rowDetail?.rowDetailHeight+'px'}}\">-->\n<!--        <ng-container [ngTemplateOutlet]=\"rowDetail.template\"-->\n<!--                      [ngTemplateOutletContext]=\"{row: row, expanded: getIsExpanded(row), value: null, column: null, rowIndex: i}\"></ng-container>-->\n<!--      </div>-->\n\n<!--    </div>-->\n\n  </ng-template>\n\n</div>\n", styles: [".flex_column,.responsive_table_rows,:host,.flex_column_min_width_height{display:flex;flex:1;flex-direction:column}.flex_row{display:flex;flex:1;flex-direction:row}.max_height_width{height:100%;width:100%;min-width:0;min-height:0}.flex_column_min_width_height{min-width:0;min-height:0}*{scrollbar-width:thin;scrollbar-color:#5287bd #DFE9EB}*::-webkit-scrollbar{height:10px;width:10px}*::-webkit-scrollbar-track{border-radius:3px;background-color:#d3d8da}*::-webkit-scrollbar-track:hover{background-color:#b8c0c2}*::-webkit-scrollbar-track:active{background-color:#b8c0c2}*::-webkit-scrollbar-thumb{border-radius:3px;background-color:#5287bd}*::-webkit-scrollbar-thumb:hover{background-color:#77a1cb}*::-webkit-scrollbar-thumb:active{background-color:#3d6e9f}.responsive_table_rows .responsive_table_header_loading{display:flex;justify-content:center}.responsive_table_rows .responsive_table_row{display:flex;flex-direction:row;width:100%;border-bottom:1px solid #e9e9e9}.responsive_table_rows .responsive_table_row:nth-child(2n){background-color:#dee8f380}.responsive_table_rows .responsive_table_row:nth-child(odd){background-color:#f1f5fa80}.responsive_table_rows .responsive_table_row:hover{background-color:#c1d4e780;cursor:pointer}.responsive_table_rows .responsive_table_row.selected{background-color:#9cbad980}.responsive_table_rows .responsive_table_row .simple_row{flex-direction:row;display:flex;width:100%;height:100%}.responsive_table_rows .responsive_table_row .detail_row{box-shadow:inset 0 0 1px 1px #9cbad980;flex-direction:row;display:flex;width:100%}.responsive_table_rows .responsive_table_row .responsive_table_row_cell{display:flex;width:100%;min-width:100px;padding:2px;border-right:1px solid #e9e9e9;overflow:hidden;align-items:center;font-size:14px}.responsive_table_rows .responsive_table_row .responsive_table_row_cell.hide{visibility:hidden}.responsive_table_rows .responsive_table_row .responsive_table_row_cell:last-child{border-right:none}.responsive_table_rows .example-list{display:flex;flex:1}.responsive_table_rows .example-list .example-box{cursor:move}.responsive_table_rows .cdk-drag-preview{background-color:red;box-sizing:border-box;height:50px;display:flex;width:100%;flex-direction:row;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.responsive_table_rows .cdk-drag-animating{transition:transform .25s cubic-bezier(0,0,.2,1)}.responsive_table_rows .example-list.cdk-drop-list-dragging .example-box:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.responsive_table_rows .example-list.cdk-drop-list-dragging .example-box:not(.cdk-drag-placeholder):nth-child(2n){background-color:#e2b38e}.responsive_table_rows .example-list.cdk-drop-list-dragging .example-box:not(.cdk-drag-placeholder):nth-child(odd){background-color:#e8c0a2}::ng-deep .cdk-drag{background-color:#5287bd}::ng-deep .cdk-drag.responsive_table_row.cdk-drag-preview{background-color:#bc8ce8;display:flex;border-right:1px solid #e9e9e9;overflow:hidden;align-items:center}::ng-deep .cdk-drag.responsive_table_row.cdk-drag-preview .simple_row{flex-direction:row;display:flex;width:100%;height:100%}::ng-deep .cdk-drag.responsive_table_row .responsive_table_row_cell{display:flex;width:100%;min-width:100px;padding:2px;border-right:1px solid #e9e9e9;overflow:hidden;align-items:center}::ng-deep .cdk-drag.responsive_table_row .responsive_table_row_cell.hide{visibility:hidden}::ng-deep .cdk-drag.responsive_table_row .responsive_table_row_cell:last-child{border-right:none}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i1.RowsService }]; }, propDecorators: { data: [{
                type: Input
            }], columns: [{
                type: Input
            }], config: [{
                type: Input
            }], droggableRows: [{
                type: Input
            }], rowDetail: [{
                type: Input
            }], onClickRow: [{
                type: Output
            }], onChangePositionRows: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3RpdmUtdGFibGUtcm93LWNlbGwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGFibGUtcmVzcG9uc2l2ZS9zcmMvbGliL2NvbXBvbmVudHMvcmVhY3RpdmUtdGFibGUtcm93LWNlbGwvcmVhY3RpdmUtdGFibGUtcm93LWNlbGwuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvdGFibGUtcmVzcG9uc2l2ZS9zcmMvbGliL2NvbXBvbmVudHMvcmVhY3RpdmUtdGFibGUtcm93LWNlbGwvcmVhY3RpdmUtdGFibGUtcm93LWNlbGwuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLHVCQUF1QixFQUN2QixTQUFTLEVBRVQsWUFBWSxFQUNaLEtBQUssRUFHTCxNQUFNLEVBRVAsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFjLGVBQWUsRUFBQyxNQUFNLHdCQUF3QixDQUFDOzs7Ozs7QUFXcEUsTUFBTSxPQUFPLDZCQUE2QjtJQWtCeEMsWUFBWSxTQUFxQixFQUFVLFVBQXVCO1FBQXZCLGVBQVUsR0FBVixVQUFVLENBQWE7UUFoQmxFLGtCQUFhLEdBQVksSUFBVyxDQUFDO1FBQ3JDLGlCQUFZLEdBQWtDLEVBQUUsQ0FBQztRQVN2QyxlQUFVLEdBQUcsSUFBSSxZQUFZLEVBQXFELENBQUM7UUFDbkYseUJBQW9CLEdBQUcsSUFBSSxZQUFZLEVBQXlDLENBQUM7UUFNekYsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7SUFDOUIsQ0FBQztJQUVELFFBQVE7UUFDTixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0lBQzFGLENB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c0JBQWYsS0FBSztnQkFDRyxNQUFNO3NCQUFkLEtBQUs7Z0JBQ0csYUFBYTtzQkFBckIsS0FBSztnQkFDRyxTQUFTO3NCQUFqQixLQUFLO2dCQUVJLFVBQVU7c0JBQW5CLE1BQU07Z0JBQ0csb0JBQW9CO3NCQUE3QixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLCBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBTaW1wbGVDaGFuZ2VzXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtJUmVzcG9uc2l2ZVRhYmxlQ29uZmlnfSBmcm9tIFwiLi4vdGFibGUtcmVzcG9uc2l2ZS1pbnRlcmZhY2VcIjtcbmltcG9ydCB7Q2RrRHJhZ0Ryb3AsIG1vdmVJdGVtSW5BcnJheX0gZnJvbSAnQGFuZ3VsYXIvY2RrL2RyYWctZHJvcCc7XG5pbXBvcnQge0RhdGF0YWJsZVJvd0RldGFpbERpcmVjdGl2ZX0gZnJvbSBcIi4uLy4uL2RpcmVjdGl2ZS9yb3ctZGV0YWlsL3Jvdy1kZXRhaWwuZGlyZWN0aXZlXCI7XG5pbXBvcnQge1Jvd3NTZXJ2aWNlfSBmcm9tIFwiLi4vLi4vc2VydmljZXMvcm93cy5zZXJ2aWNlXCI7XG5pbXBvcnQge1N1YnNjcmlwdGlvbn0gZnJvbSBcInJ4anNcIjtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYXBwLXJlYWN0aXZlLXRhYmxlLXJvdy1jZWxsJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3JlYWN0aXZlLXRhYmxlLXJvdy1jZWxsLmNvbXBvbmVudC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHN0eWxlVXJsczogWycuL3JlYWN0aXZlLXRhYmxlLXJvdy1jZWxsLmNvbXBvbmVudC5zY3NzJ10sXG59KVxuZXhwb3J0IGNsYXNzIFJlYWN0aXZlVGFibGVSb3dDZWxsQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XG5cbiAgcm93Q2xpY2tJbmRleDogIG51bWJlciA9IG51bGwgYXMgYW55O1xuICByb3dzRXhwYW5kZWQ6ICAgQXJyYXk8e1trZXk6IHN0cmluZ106IGFueX0+ID0gW107XG4gIHJvd3NPYnMhOiAgICAgICBTdWJzY3JpcHRpb247XG5cbiAgQElucHV0KCkgZGF0YSE6ICAgICBBcnJheTx7W2tleTogc3RyaW5nXTogc3RyaW5nfG51bWJlcn0+O1xuICBASW5wdXQoKSBjb2x1bW5zITogIEFycmF5PGFueT47XG4gIEBJbnB1dCgpIGNvbmZpZyE6ICAgSVJlc3BvbnNpdmVUYWJsZUNvbmZpZztcbiAgQElucHV0KCkgZHJvZ2dhYmxlUm93cyE6IGJvb2xlYW47XG4gIEBJbnB1dCgpIHJvd0RldGFpbCE6IERhdGF0YWJsZVJvd0RldGFpbERpcmVjdGl2ZTtcblxuICBAT3V0cHV0KCkgb25DbGlja1JvdyA9IG5ldyBFdmVudEVtaXR0ZXI8e3JvdzogYW55OyBpdGVtOiBhbnk7IGluZGV4OiBudW1iZXI7IGtleTogc3RyaW5nfT4oKTtcbiAgQE91dHB1dCgpIG9uQ2hhbmdlUG9zaXRpb25Sb3dzID0gbmV3IEV2ZW50RW1pdHRlcjxBcnJheTx7W2tleTogc3RyaW5nXTogc3RyaW5nfG51bWJlcn0+PigpO1xuXG4gIF90YWJsZUJvZHkhOiBFbGVtZW50UmVmO1xuICBkYXRhVG9EaXNwbGF5ITogQXJyYXk8e1trZXk6IHN0cmluZ106IGFueX0+O1xuXG4gIGNvbnN0cnVjdG9yKHRhYmxlQm9keTogRWxlbWVudFJlZiwgcHJpdmF0ZSByb3dTZXJ2aWNlOiBSb3dzU2VydmljZSkge1xuICAgIHRoaXMuX3RhYmxlQm9keSA9IHRhYmxlQm9keTtcbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMucm93c09icyA9IHRoaXMucm93U2VydmljZS5nZXRDaGFuZ2VzKCkuc3Vic2NyaWJlKChyZXMpID0+IHRoaXMucm93c0V4cGFuZGVkID0gcmVzKTtcbiAgfVxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLnJvd3NPYnM/LnVuc3Vic2NyaWJlKCk7XG4gIH1cblxuICB1cGRhdGVPbkNsaWNrUm93KHJvdzoge1trZXk6IHN0cmluZ106IGFueX0sIGNlbGw6IHtba2V5OiBzdHJpbmddOiBhbnl9LCBpbmRleDogbnVtYmVyLCBrZXk6IHN0cmluZykge1xuICAgIHRoaXMucm93Q2xpY2tJbmRleCA9IGluZGV4O1xuICAgIHRoaXMub25DbGlja1Jvdz8uZW1pdCh7cm93OiByb3csIGl0ZW06IGNlbGwsIGluZGV4OiBpbmRleCwga2V5OiBrZXl9KTtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcbiAgICBpZiAoY2hhbmdlcz8uWydkYXRhJ10uY3VycmVudFZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGFUb0Rpc3BsYXkgPSBbLi4uY2hhbmdlcz8uWydkYXRhJ10uY3VycmVudFZhbHVlXTtcbiAgICB9XG4gIH1cbiAgZHJvcChldmVudDogQ2RrRHJhZ0Ryb3A8c3RyaW5nW10+KSB7XG4gICAgbW92ZUl0ZW1JbkFycmF5KHRoaXMuZGF0YSwgZXZlbnQucHJldmlvdXNJbmRleCwgZXZlbnQuY3VycmVudEluZGV4KTtcbiAgICB0aGlzLm9uQ2hhbmdlUG9zaXRpb25Sb3dzPy5lbWl0KHRoaXMuZGF0YSk7XG4gIH1cblxuICBnZXRSb3dIZWlnaHQocm93OiB7W2tleTogc3RyaW5nXTogYW55fSk6IGFueSB7XG4gICAgY29uc3Qgc3R5bGVSb3cgPSB7J2ZsZXgtZGlyZWN0aW9uJzogJ2NvbHVtbid9O1xuICAgIGlmICh0aGlzLmNvbmZpZy5yb3dIZWlnaHQpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGVSb3csIHtoZWlnaHQ6IHRoaXMuY29uZmlnLnJvd0hlaWdodCArICdweCd9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29uZmlnLnJvd01pbkhlaWdodCkge1xuICAgICAgT2JqZWN0LmFzc2lnbihzdHlsZVJvdywgeydtaW4taGVpZ2h0JzogdGhpcy5jb25maWcucm93TWluSGVpZ2h0ICsgJ3B4J30pO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb25maWcucm93TWF4SGVpZ2h0KSB7XG4gICAgICBPYmplY3QuYXNzaWduKHN0eWxlUm93LCB7J21heC1oZWlnaHQnOiB0aGlzLmNvbmZpZy5yb3dNYXhIZWlnaHQgKyAncHgnLCBvdmVyZmxvdzogJ2hpZGRlbid9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZ2V0SXNFeHBhbmRlZChyb3cpICYmIHRoaXMucm93RGV0YWlsKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHN0eWxlUm93LCB7aGVpZ2h0OiB0aGlzLnJvd0RldGFpbC5yb3dEZXRhaWxIZWlnaHQgKyAncHgnfSk7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZVJvdztcbiAgfVxuXG4gIGdldENlbGxXaWR0aChhdHQ6IHtba2V5OiBzdHJpbmddOiBhbnl9KTogYW55IHtcbiAgICBjb25zdCBzdHlsZUNlbGwgPSB7fTtcbiAgICBpZiAoYXR0Wyd3aWR0aCddIHx8IGF0dFsnc3R5bGUnXT8uWyd3aWR0aCddKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHN0eWxlQ2VsbCwge3dpZHRoOiAoYXR0Wyd3aWR0aCddIHx8IGF0dFsnc3R5bGUnXT8uWyd3aWR0aCddKSArICdweCd9KTtcbiAgICB9XG4gICAgaWYgKGF0dFsnbWF4V2lkdGgnXSB8fCBhdHRbJ3N0eWxlJ10/LlsnbWF4V2lkdGgnXSkge1xuICAgICAgT2JqZWN0LmFzc2lnbihzdHlsZUNlbGwsIHsnbWF4LXdpZHRoJzogKGF0dFsnbWF4V2lkdGgnXSB8fCBhdHRbJ3N0eWxlJ10/LlsnbWF4V2lkdGgnXSkgKyAncHgnfSk7XG4gICAgfVxuICAgIGlmIChhdHRbJ21pbldpZHRoJ10gfHwgYXR0WydzdHlsZSddPy5bJ21pbldpZHRoJ10pIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGVDZWxsLCB7J21pbi13aWR0aCc6IChhdHRbJ21pbldpZHRoJ10gfHwgYXR0WydzdHlsZSddPy5bJ21pbldpZHRoJ10pICsgJ3B4J30pO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb25maWcucm93TWF4SGVpZ2h0KSB7XG4gICAgICBPYmplY3QuYXNzaWduKHN0eWxlQ2VsbCwgeydtYXgtaGVpZ2h0JzogdGhpcy5jb25maWcucm93TWF4SGVpZ2h0ICsgJ3B4J30pOyAvLyAnYWxpZ24taXRlbXMnOiAnYmFzZWxpbmUnXG4gICAgfVxuICAgIHJldHVybiBzdHlsZUNlbGw7XG4gIH1cblxuICBnZXRJc0V4cGFuZGVkKHJvdzoge1trZXk6IHN0cmluZ106IGFueX0pOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLnJvd3NFeHBhbmRlZC5maW5kKChyKSA9PiBKU09OLnN0cmluZ2lmeShyb3cpID09PSBKU09OLnN0cmluZ2lmeShyKSk7XG4gIH1cblxuICBzdG9wT25Nb3ZlZChldmVudDogYW55KSB7XG4gICAgLy8gZGVidWdnZXI7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJyZXNwb25zaXZlX3RhYmxlX3Jvd3NcIj5cblxuICA8ZGl2IGNsYXNzPVwicmVzcG9uc2l2ZV90YWJsZV9oZWFkZXJfbG9hZGluZ1wiICpuZ0lmPVwiY29uZmlnICYmIGRhdGFUb0Rpc3BsYXk/Lmxlbmd0aCA9PT0gMFwiPlxuICAgIHt7Y29uZmlnLm1lc3NhZ2VUYWJsZU5vRGF0YX19XG4gIDwvZGl2PlxuXG48IS0tICA8ZGl2IGNsYXNzPVwicmVzcG9uc2l2ZV90YWJsZV9yb3dcIj4tLT5cbjwhLS0gICAgPGRpdiAqbmdGb3I9XCJsZXQgYXR0IG9mIGNvbHVtbnM7XCIgY2xhc3M9XCJyZXNwb25zaXZlX3RhYmxlX3Jvd19jZWxsXCItLT5cbjwhLS0gICAgICAgICBzdHlsZT1cIndpZHRoOiB7eyhhdHRbJ3dpZHRoJ10gfHwgYXR0WydzdHlsZSddPy5bJ3dpZHRoJ10pKydweCd9fTstLT5cbjwhLS0gICAgICAgICAgICBtYXgtd2lkdGg6IHt7KGF0dFsnbWF4V2lkdGgnXSB8fCBhdHRbJ3N0eWxlJ10/LlsnbWF4V2lkdGgnXSkrJ3B4J319Oy0tPlxuPCEtLSAgICAgICAgICAgIG1pbi13aWR0aDoge3soYXR0WydtaW5XaWR0aCddIHx8IGF0dFsnc3R5bGUnXT8uWydtaW5XaWR0aCddKSsncHgnfX1cIj5beHh4XTwvZGl2Pi0tPlxuPCEtLSAgPC9kaXY+LS0+XG5cbiAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImRyb2dnYWJsZVJvd3M7IHRoZW4gdGVtcGxhdGVEcm9nZ3JhYmxlOyBlbHNlIHRlbXBsYXRlU2ltcGxlXCI+PC9uZy1jb250YWluZXI+XG5cbiAgPG5nLXRlbXBsYXRlICN0ZW1wbGF0ZURyb2dncmFibGU+XG4gICAgPGRpdiBjZGtEcm9wTGlzdCBjbGFzcz1cImV4YW1wbGUtbGlzdFwiIChjZGtEcm9wTGlzdERyb3BwZWQpPVwiZHJvcCgkZXZlbnQpXCI+XG4gICAgICA8Y2RrLXZpcnR1YWwtc2Nyb2xsLXZpZXdwb3J0IGl0ZW1TaXplPVwie3tjb25maWc/LnJvd0hlaWdodCB8fCBjb25maWc/LnJvd01pbkhlaWdodCB8fCA0MH19XCIgbWluQnVmZmVyUHg9XCIyMDBcIiBtYXhCdWZmZXJQeD1cIjQwMFwiIHN0eWxlPVwiZGlzcGxheTogZmxleDsgZmxleDogMTsgb3ZlcmZsb3cteTogc2Nyb2xsOyBvdmVyZmxvdy14OiBoaWRkZW47XCI+XG4gICAgICAgIDxkaXYgKmNka1ZpcnR1YWxGb3I9XCJsZXQgcm93IG9mIGRhdGFUb0Rpc3BsYXk7IGxldCBpID0gaW5kZXhcIlxuICAgICAgICAgICAgIGNsYXNzPVwicmVzcG9uc2l2ZV90YWJsZV9yb3cgZXhhbXBsZS1ib3hcIlxuICAgICAgICAgICAgIGNka0RyYWdCb3VuZGFyeT1cInJlc3BvbnNpdmVfdGFibGVfcm93c1wiXG4gICAgICAgICAgICAgY2RrRHJhZ1xuICAgICAgICAgICAgIHN0eWxlPVwie3tnZXRSb3dIZWlnaHQocm93KX19XCJcbiAgICAgICAgICAgICAoY2RrRHJhZ01vdmVkKT1cInN0b3BPbk1vdmVkKCRldmVudClcIlxuICAgICAgICAgICAgIFtjbGFzcy5zZWxlY3RlZF0gPSBcInJvd0NsaWNrSW5kZXggPT0gaVwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNpbXBsZV9yb3dcIj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGF0dCBvZiBjb2x1bW5zO1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVzcG9uc2l2ZV90YWJsZV9yb3dfY2VsbFwiXG4gICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInVwZGF0ZU9uQ2xpY2tSb3cocm93LCByb3dbYXR0LmtleV0sIGksIGF0dC5rZXkpXCJcbiAgICAgICAgICAgICAgICAgICBzdHlsZT1cInt7Z2V0Q2VsbFdpZHRoKGF0dCl9fVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwicm93W2F0dC5rZXldICE9PSB1bmRlZmluZWQ7IHRoZW4gX2Z1bGxDZWxsXCI+PC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNfZnVsbENlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwiYXR0LmNlbGxUZW1wbGF0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7cm93OiByb3csIGV4cGFuZGVkOiBnZXRJc0V4cGFuZGVkKHJvdyksIHZhbHVlOiByb3dbYXR0LmtleV0sIGNvbHVtbjogYXR0LmtleSwgcm93SW5kZXg6IGl9XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIWF0dC5jZWxsVGVtcGxhdGVcIj57e3Jvd1thdHQua2V5XX19PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgKm5nSWY9XCJyb3dEZXRhaWwgJiYgcm93RGV0YWlsLnRlbXBsYXRlICYmIGdldElzRXhwYW5kZWQocm93KVwiIGNsYXNzPVwiZGV0YWlsX3Jvd1wiIHN0eWxlPVwiaGVpZ2h0Ont7cm93RGV0YWlsPy5yb3dEZXRhaWxIZWlnaHQrJ3B4J319XCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInJvd0RldGFpbC50ZW1wbGF0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7cm93OiByb3csIGV4cGFuZGVkOiBnZXRJc0V4cGFuZGVkKHJvdyksIHZhbHVlOiBudWxsLCBjb2x1bW46IG51bGwsIHJvd0luZGV4OiBpfVwiPjwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9jZGstdmlydHVhbC1zY3JvbGwtdmlld3BvcnQ+XG5cbjwhLS0gICAgICA8ZGl2ICpuZ0Zvcj1cImxldCByb3cgb2YgZGF0YVRvRGlzcGxheTsgbGV0IGkgPSBpbmRleFwiLS0+XG48IS0tICAgICAgICAgICBjbGFzcz1cInJlc3BvbnNpdmVfdGFibGVfcm93IGV4YW1wbGUtYm94XCItLT5cbjwhLS0gICAgICAgICAgIGNka0RyYWdCb3VuZGFyeT1cInJlc3BvbnNpdmVfdGFibGVfcm93c1wiLS0+XG48IS0tICAgICAgICAgICBjZGtEcmFnLS0+XG48IS0tICAgICAgICAgICBzdHlsZT1cInt7Z2V0Um93SGVpZ2h0KHJvdyl9fVwiLS0+XG48IS0tICAgICAgICAgICAoY2RrRHJhZ01vdmVkKT1cInN0b3BPbk1vdmVkKCRldmVudClcIi0tPlxuPCEtLSAgICAgICAgICAgW2NsYXNzLnNlbGVjdGVkXSA9IFwicm93Q2xpY2tJbmRleCA9PSBpXCItLT5cbjwhLS0gICAgICA+LS0+XG48IS0tICAgICAgICA8ZGl2IGNsYXNzPVwic2ltcGxlX3Jvd1wiPi0tPlxuPCEtLSAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBhdHQgb2YgY29sdW1ucztcIj4tLT5cbjwhLS0gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVzcG9uc2l2ZV90YWJsZV9yb3dfY2VsbFwiLS0+XG48IS0tICAgICAgICAgICAgICAgICAoY2xpY2spPVwidXBkYXRlT25DbGlja1Jvdyhyb3csIHJvd1thdHQua2V5XSwgaSwgYXR0LmtleSlcIi0tPlxuPCEtLSAgICAgICAgICAgICAgICAgc3R5bGU9XCJ7e2dldENlbGxXaWR0aChhdHQpfX1cIi0tPlxuPCEtLSAgICAgICAgICAgID4tLT5cbjwhLS0gICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJyb3dbYXR0LmtleV0gIT09IHVuZGVmaW5lZDsgdGhlbiBfZnVsbENlbGxcIj48L25nLWNvbnRhaW5lcj4tLT5cbjwhLS0gICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjX2Z1bGxDZWxsLS0+XG48IS0tICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVwiYXR0LmNlbGxUZW1wbGF0ZVwiLS0+XG48IS0tICAgICAgICAgICAgICAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cIntyb3c6IHJvdywgZXhwYW5kZWQ6IGdldElzRXhwYW5kZWQocm93KSwgdmFsdWU6IHJvd1thdHQua2V5XSwgY29sdW1uOiBhdHQua2V5LCByb3dJbmRleDogaX1cIj4tLT5cbjwhLS0gICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiFhdHQuY2VsbFRlbXBsYXRlXCI+e3tyb3dbYXR0LmtleV19fTwvZGl2Pi0tPlxuPCEtLSAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT4tLT5cbjwhLS0gICAgICAgICAgICA8L2Rpdj4tLT5cbjwhLS0gICAgICAgICAgPC9uZy1jb250YWluZXI+LS0+XG48IS0tICAgICAgICA8L2Rpdj4tLT5cblxuPCEtLSAgICAgICAgPGRpdiAqbmdJZj1cInJvd0RldGFpbCAmJiByb3dEZXRhaWwudGVtcGxhdGUgJiYgZ2V0SXNFeHBhbmRlZChyb3cpXCIgY2xhc3M9XCJkZXRhaWxfcm93XCIgc3R5bGU9XCJoZWlnaHQ6e3tyb3dEZXRhaWw/LnJvd0RldGFpbEhlaWdodCsncHgnfX1cIj4tLT5cbjwhLS0gICAgICAgICAgPG5nLWNvbnRhaW5lciBbbmdUZW1wbGF0ZU91dGxldF09XCJyb3dEZXRhaWwudGVtcGxhdGVcIi0tPlxuPCEtLSAgICAgICAgICAgICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7cm93OiByb3csIGV4cGFuZGVkOiBnZXRJc0V4cGFuZGVkKHJvdyksIHZhbHVlOiBudWxsLCBjb2x1bW46IG51bGwsIHJvd0luZGV4OiBpfVwiPjwvbmctY29udGFpbmVyPi0tPlxuPCEtLSAgICAgICAgPC9kaXY+LS0+XG5cbjwhLS0gICAgICA8L2Rpdj4tLT5cbiAgICA8L2Rpdj5cbiAgPC9uZy10ZW1wbGF0ZT5cblxuICA8bmctdGVtcGxhdGUgI3RlbXBsYXRlU2ltcGxlPlxuXG4gICAgPGNkay12aXJ0dWFsLXNjcm9sbC12aWV3cG9ydCBpdGVtU2l6ZT1cInt7Y29uZmlnPy5yb3dIZWlnaHQgfHwgY29uZmlnPy5yb3dNaW5IZWlnaHQgfHwgNDB9fVwiIG1pbkJ1ZmZlclB4PVwiMjAwXCIgbWF4QnVmZmVyUHg9XCI0MDBcIiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGZsZXg6IDE7IG92ZXJmbG93LXk6IHNjcm9sbDsgb3ZlcmZsb3cteDogaGlkZGVuO1wiPlxuICAgICAgPGRpdiAqY2RrVmlydHVhbEZvcj1cImxldCByb3cgb2YgZGF0YVRvRGlzcGxheTsgbGV0IGkgPSBpbmRleFwiXG4gICAgICAgICAgICAgICAgIGNsYXNzPVwicmVzcG9uc2l2ZV90YWJsZV9yb3dcIlxuICAgICAgICAgICAgICAgICBzdHlsZT1cInt7Z2V0Um93SGVpZ2h0KHJvdyl9fVwiXG4gICAgICAgICAgICAgICAgIFtjbGFzcy5zZWxlY3RlZF0gPSBcInJvd0NsaWNrSW5kZXggPT0gaVwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzaW1wbGVfcm93XCI+XG5cbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBhdHQgb2YgY29sdW1ucztcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZXNwb25zaXZlX3RhYmxlX3Jvd19jZWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInVwZGF0ZU9uQ2xpY2tSb3cocm93LCByb3dbYXR0LmtleV0sIGksIGF0dC5rZXkpXCJcbiAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJ7e2dldENlbGxXaWR0aChhdHQpfX1cIlxuICAgICAgICAgICAgICAgICAgPlxuPCEtLSAgICAgICAgICAgICAgICAgICAge3tyb3dbJ25hbWUnXX19LS0+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwicm93W2F0dC5rZXldICE9PSB1bmRlZmluZWQ7IHRoZW4gZnVsbENlbGxcIj48L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgI2Z1bGxDZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImF0dC5jZWxsVGVtcGxhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwie3Jvdzogcm93LCBleHBhbmRlZDogZ2V0SXNFeHBhbmRlZChyb3cpLCB2YWx1ZTogcm93W2F0dC5rZXldLCBjb2x1bW46IGF0dC5rZXksIHJvd0luZGV4OiBpfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiFhdHQuY2VsbFRlbXBsYXRlXCI+e3tyb3dbYXR0LmtleV19fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG5cblxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2ICpuZ0lmPVwicm93RGV0YWlsICYmIHJvd0RldGFpbC50ZW1wbGF0ZSAmJiBnZXRJc0V4cGFuZGVkKHJvdylcIiBjbGFzcz1cImRldGFpbF9yb3dcIiBzdHlsZT1cImhlaWdodDp7e3Jvd0RldGFpbD8ucm93RGV0YWlsSGVpZ2h0KydweCd9fVwiPlxuICAgICAgICAgIDxuZy1jb250YWluZXIgW25nVGVtcGxhdGVPdXRsZXRdPVwicm93RGV0YWlsLnRlbXBsYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7cm93OiByb3csIGV4cGFuZGVkOiBnZXRJc0V4cGFuZGVkKHJvdyksIHZhbHVlOiBudWxsLCBjb2x1bW46IG51bGwsIHJvd0luZGV4OiBpfVwiPjwvbmctY29udGFpbmVyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvY2RrLXZpcnR1YWwtc2Nyb2xsLXZpZXdwb3J0PlxuXG48IS0tICAgIDxjZGstdmlydHVhbC1zY3JvbGwtdmlld3BvcnQgaXRlbVNpemU9XCJjb25maWc/LnJvd0hlaWdodCB8fCBjb25maWc/LnJvd01pbkhlaWdodCB8fCA0MFwiIG1pbkJ1ZmZlclB4PVwiMjAwXCIgbWF4QnVmZmVyUHg9XCI0MDBcIiBzdHlsZT1cImRpc3BsYXk6IGZsZXg7IGZsZXg6IDE7IG92ZXJmbG93LXk6IHNjcm9sbDsgb3ZlcmZsb3cteDogaGlkZGVuO1wiPi0tPlxuPCEtLSAgICAgIDxkaXYgKmNka1ZpcnR1YWxGb3I9XCJsZXQgcm93IG9mIGRhdGFUb0Rpc3BsYXk7IGxldCBpID0gaW5kZXhcIi0tPlxuPCEtLSAgICAgICAgICAgY2xhc3M9XCJyZXNwb25zaXZlX3RhYmxlX3Jvd1wiLS0+XG48IS0tICAgICAgICAgICBzdHlsZT1cInt7Z2V0Um93SGVpZ2h0KHJvdyl9fVwiLS0+XG48IS0tICAgICAgICAgICBbY2xhc3Muc2VsZWN0ZWRdID0gXCJyb3dDbGlja0luZGV4ID09IGlcIj4tLT5cblxuPCEtLSAgICAgICAgPGRpdiBjbGFzcz1cInNpbXBsZV9yb3dcIj4tLT5cbjwhLS0gICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgYXR0IG9mIGNvbHVtbnM7XCI+LS0+XG48IS0tICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlc3BvbnNpdmVfdGFibGVfcm93X2NlbGxcIi0tPlxuPCEtLSAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInVwZGF0ZU9uQ2xpY2tSb3cocm93LCByb3dbYXR0LmtleV0sIGksIGF0dC5rZXkpXCItLT5cbjwhLS0gICAgICAgICAgICAgICAgIHN0eWxlPVwie3tnZXRDZWxsV2lkdGgoYXR0KX19XCItLT5cbjwhLS0gICAgICAgICAgICA+LS0+XG48IS0tICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwicm93W2F0dC5rZXldICE9PSB1bmRlZmluZWQ7IHRoZW4gZnVsbENlbGxcIj48L25nLWNvbnRhaW5lcj4tLT5cbjwhLS0gICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjZnVsbENlbGwtLT5cbjwhLS0gICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJhdHQuY2VsbFRlbXBsYXRlXCItLT5cbjwhLS0gICAgICAgICAgICAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwie3Jvdzogcm93LCBleHBhbmRlZDogZ2V0SXNFeHBhbmRlZChyb3cpLCB2YWx1ZTogcm93W2F0dC5rZXldLCBjb2x1bW46IGF0dC5rZXksIHJvd0luZGV4OiBpfVwiPi0tPlxuPCEtLSAgICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIWF0dC5jZWxsVGVtcGxhdGVcIj57e3Jvd1thdHQua2V5XX19PC9kaXY+LS0+XG48IS0tICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPi0tPlxuPCEtLSAgICAgICAgICAgIDwvZGl2Pi0tPlxuPCEtLSAgICAgICAgICA8L25nLWNvbnRhaW5lcj4tLT5cbjwhLS0gICAgICAgIDwvZGl2Pi0tPlxuXG48IS0tICAgICAgICA8ZGl2ICpuZ0lmPVwicm93RGV0YWlsICYmIHJvd0RldGFpbC50ZW1wbGF0ZSAmJiBnZXRJc0V4cGFuZGVkKHJvdylcIiBjbGFzcz1cImRldGFpbF9yb3dcIiBzdHlsZT1cImhlaWdodDp7e3Jvd0RldGFpbD8ucm93RGV0YWlsSGVpZ2h0KydweCd9fVwiPi0tPlxuPCEtLSAgICAgICAgICA8bmctY29udGFpbmVyIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInJvd0RldGFpbC50ZW1wbGF0ZVwiLS0+XG48IS0tICAgICAgICAgICAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cIntyb3c6IHJvdywgZXhwYW5kZWQ6IGdldElzRXhwYW5kZWQocm93KSwgdmFsdWU6IG51bGwsIGNvbHVtbjogbnVsbCwgcm93SW5kZXg6IGl9XCI+PC9uZy1jb250YWluZXI+LS0+XG48IS0tICAgICAgICA8L2Rpdj4tLT5cblxuPCEtLSAgICAgIDwvZGl2Pi0tPlxuPCEtLSAgICA8L2Nkay12aXJ0dWFsLXNjcm9sbC12aWV3cG9ydD4tLT5cblxuICAgIDwhLS0gT1JJR0lOQUwgTk8gU0NST0xMIC0tPlxuPCEtLSAgICA8ZGl2ICpuZ0Zvcj1cImxldCByb3cgb2YgZGF0YVRvRGlzcGxheTsgbGV0IGkgPSBpbmRleFwiLS0+XG48IS0tICAgICAgICAgY2xhc3M9XCJyZXNwb25zaXZlX3RhYmxlX3Jvd1wiLS0+XG48IS0tICAgICAgICAgc3R5bGU9XCJ7e2dldFJvd0hlaWdodChyb3cpfX1cIi0tPlxuPCEtLSAgICAgICAgIFtjbGFzcy5zZWxlY3RlZF0gPSBcInJvd0NsaWNrSW5kZXggPT0gaVwiPi0tPlxuXG48IS0tICAgICAgPGRpdiBjbGFzcz1cInNpbXBsZV9yb3dcIj4tLT5cbjwhLS0gICAgICAgIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGF0dCBvZiBjb2x1bW5zO1wiPi0tPlxuPCEtLSAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVzcG9uc2l2ZV90YWJsZV9yb3dfY2VsbFwiLS0+XG48IS0tICAgICAgICAgICAgICAgKGNsaWNrKT1cInVwZGF0ZU9uQ2xpY2tSb3cocm93LCByb3dbYXR0LmtleV0sIGksIGF0dC5rZXkpXCItLT5cbjwhLS0gICAgICAgICAgICAgICBzdHlsZT1cInt7Z2V0Q2VsbFdpZHRoKGF0dCl9fVwiLS0+XG48IS0tICAgICAgICAgID4tLT5cbjwhLS0gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwicm93W2F0dC5rZXldICE9PSB1bmRlZmluZWQ7IHRoZW4gZnVsbENlbGxcIj48L25nLWNvbnRhaW5lcj4tLT5cbjwhLS0gICAgICAgICAgICA8bmctdGVtcGxhdGUgI2Z1bGxDZWxsLS0+XG48IS0tICAgICAgICAgICAgICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImF0dC5jZWxsVGVtcGxhdGVcIi0tPlxuPCEtLSAgICAgICAgICAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwie3Jvdzogcm93LCBleHBhbmRlZDogZ2V0SXNFeHBhbmRlZChyb3cpLCB2YWx1ZTogcm93W2F0dC5rZXldLCBjb2x1bW46IGF0dC5rZXksIHJvd0luZGV4OiBpfVwiPi0tPlxuPCEtLSAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIiFhdHQuY2VsbFRlbXBsYXRlXCI+e3tyb3dbYXR0LmtleV19fTwvZGl2Pi0tPlxuPCEtLSAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+LS0+XG48IS0tICAgICAgICAgIDwvZGl2Pi0tPlxuPCEtLSAgICAgICAgPC9uZy1jb250YWluZXI+LS0+XG48IS0tICAgICAgPC9kaXY+LS0+XG5cbjwhLS0gICAgICA8ZGl2ICpuZ0lmPVwicm93RGV0YWlsICYmIHJvd0RldGFpbC50ZW1wbGF0ZSAmJiBnZXRJc0V4cGFuZGVkKHJvdylcIiBjbGFzcz1cImRldGFpbF9yb3dcIiBzdHlsZT1cImhlaWdodDp7e3Jvd0RldGFpbD8ucm93RGV0YWlsSGVpZ2h0KydweCd9fVwiPi0tPlxuPCEtLSAgICAgICAgPG5nLWNvbnRhaW5lciBbbmdUZW1wbGF0ZU91dGxldF09XCJyb3dEZXRhaWwudGVtcGxhdGVcIi0tPlxuPCEtLSAgICAgICAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldENvbnRleHRdPVwie3Jvdzogcm93LCBleHBhbmRlZDogZ2V0SXNFeHBhbmRlZChyb3cpLCB2YWx1ZTogbnVsbCwgY29sdW1uOiBudWxsLCByb3dJbmRleDogaX1cIj48L25nLWNvbnRhaW5lcj4tLT5cbjwhLS0gICAgICA8L2Rpdj4tLT5cblxuPCEtLSAgICA8L2Rpdj4tLT5cblxuICA8L25nLXRlbXBsYXRlPlxuXG48L2Rpdj5cbiJdfQ==